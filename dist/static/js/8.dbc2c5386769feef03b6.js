webpackJsonp([8],{MI3X:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s={props:["apprefs"],data:function(){return{wrapperHeight:"",allLoaded:!1,list:[],page:1}},mounted:function(){this.wrapperHeight=document.documentElement.clientHeight-this.apprefs.appHeader.$el.offsetHeight-this.apprefs.appFooter.$el.offsetHeight},created:function(){this.loadByPage(this.page)},methods:{loadByPage:function(){var t=this;this.$axios.get("/mocktest/goodslist?pageindex="+this.page).then(function(e){t.list=e.data.data.list,t.page++}).catch(function(t){console.log("商品获取失败")})},addByPage:function(){var t=this;this.$axios.get("/mocktest/goodslist?pageindex="+this.page).then(function(e){0===e.data.data.list.length&&(t.$toast("没有更多数据了"),t.allLoaded=!0),t.list=t.list.concat(e.data.data.list),t.page++,t.$refs.loadmore.onBottomLoaded()}).catch(function(t){console.log("商品获取失败")})},loadBottom:function(){console.log("上拉加载执行"),this.addByPage(this.page)}}},o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("nav-bar",{attrs:{title:"商品展示"}}),t._v(" "),a("div",{staticClass:"c-div",style:{height:t.wrapperHeight+"px"}},[a("mt-loadmore",{ref:"loadmore",attrs:{"auto-fill":!1,"bottom-method":t.loadBottom,"bottom-all-loaded":t.allLoaded}},[a("ul",t._l(t.list,function(e,s){return a("li",{key:s},[a("router-link",{attrs:{to:{name:"goods.detail",params:{id:s}}}},[a("img",{attrs:{src:e.img,alt:""}}),t._v(" "),a("div",{staticClass:"title"},[t._v(t._s(t._f("covertStr")(e.name,18)))]),t._v(" "),a("div",{staticClass:"desc"},[a("div",{staticClass:"sell"},[a("span",[t._v("￥"+t._s(e.newprice))]),t._v(" "),a("s",[t._v("￥"+t._s(e.oldprice))])]),t._v(" "),a("div",{staticClass:"detail"},[a("div",{staticClass:"hot"},[t._v("热卖中")]),t._v(" "),a("div",{staticClass:"count"},[t._v("剩余"+t._s(e.count)+"件")])])])])],1)}),0)])],1)],1)},staticRenderFns:[]};var i=a("C7Lr")(s,o,!1,function(t){a("t0gl")},"data-v-20015bcb",null);e.default=i.exports},t0gl:function(t,e){}});