webpackJsonp([0],{"0k87":function(t,e,n){n("SSy3"),t.exports=n("ZuHZ").Object.keys},FSdY:function(t,e){},SSy3:function(t,e,n){var a=n("WXuS"),s=n("RY2v");n("adHB")("keys",function(){return function(t){return s(a(t))}})},ZLEe:function(t,e,n){t.exports={default:n("0k87"),__esModule:!0}},adHB:function(t,e,n){var a=n("Wtcz"),s=n("ZuHZ"),c=n("2gH+");t.exports=function(t,e){var n=(s.Object||{})[t]||Object[t],i={};i[t]=e(n),a(a.S+a.F*c(function(){n(1)}),"Object",i)}},uR85:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("MgeX"),s=n.n(a),c=n("ZLEe"),i=n.n(c),o=n("FGTl"),r={beforeRouteLeave:function(t,e,n){if(window.confirm("Do you really want to leave? you have unsaved changes!")){var a={};this.shopcart.forEach(function(t){a[t.g_id]=t.num}),o.a.saveGoods(a),n()}else n(!1)},computed:{payment:function(){var t=0,e=0;return this.shopcart.forEach(function(n){n.isSelected&&(e+=n.num,t+=n.num*n.price)}),{count:e,price:t}}},data:function(){return{msg:"Shopcart",shopcart:[]}},created:function(){var t=this,e=o.a.getGoodsList(),n=i()(e).length;this.$axios.get("/mocktest/getshopcarlist?count="+n).then(function(n){t.shopcart=n.data.data.list,t.shopcart.forEach(function(n,a){t.$set(n,"num",s()(e)[a]),t.$set(n,"g_id",i()(e)[a]),t.$set(n,"isSelected",!0)})}).catch(function(t){console.log("购物车数据异常")})},methods:{add:function(t){t.num++},substract:function(t){t.num--},del:function(t){this.shopcart.splice(t,1)}}},u={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("nav-bar",{attrs:{title:"购物车"}}),t._v(" "),n("div",{staticClass:"pay-box"},[n("ul",t._l(t.shopcart,function(e,a){return n("li",{key:e.id,staticClass:"p-list"},[n("mt-switch",{model:{value:e.isSelected,callback:function(n){t.$set(e,"isSelected",n)},expression:"goods.isSelected"}}),t._v(" "),n("img",{attrs:{src:e.image,alt:""}}),t._v(" "),n("div",{staticClass:"p-detail"},[n("p",[t._v(t._s(e.title))]),t._v(" "),n("div",{staticClass:"p-handle"},[n("span",[t._v("￥"+t._s(e.price))]),t._v(" "),n("span",{on:{click:function(n){return t.substract(e)}}},[t._v("-")]),t._v(" "),n("span",[t._v(t._s(e.num))]),t._v(" "),n("span",{on:{click:function(n){return t.add(e)}}},[t._v("+")]),t._v(" "),n("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.del(a)}}},[t._v("删除")])])])],1)}),0),t._v(" "),n("div",{staticClass:"g-all"},[n("p",[t._v("总计（不含运费）：")]),t._v(" "),n("div",[t._v("\n        已经选择商品"+t._s(t.payment.count)+"件，总价￥"+t._s(t.payment.price)+"元\n        "),n("mt-button",{attrs:{type:"danger",size:"small"}},[t._v("去结算")])],1)])])],1)},staticRenderFns:[]};var l=n("C7Lr")(r,u,!1,function(t){n("FSdY")},"data-v-2a4dad85",null);e.default=l.exports}});